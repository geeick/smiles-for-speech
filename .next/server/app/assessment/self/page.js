(()=>{var e={};e.id=552,e.ids=[552],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},17915:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/georgiaeick/Downloads/smiles-for-speech/app/assessment/self/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/georgiaeick/Downloads/smiles-for-speech/app/assessment/self/page.tsx","default")},18853:(e,t,s)=>{"use strict";s.d(t,{X:()=>l});var a=s(43210),r=s(66156);function l(e){let[t,s]=a.useState(void 0);return(0,r.N)(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let a,r;if(!Array.isArray(t)||!t.length)return;let l=t[0];if("borderBoxSize"in l){let e=l.borderBoxSize,t=Array.isArray(e)?e[0]:e;a=t.inlineSize,r=t.blockSize}else a=e.offsetWidth,r=e.offsetHeight;s({width:a,height:r})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}s(void 0)},[e]),t}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},28130:(e,t,s)=>{Promise.resolve().then(s.bind(s,17915))},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33231:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>c,pages:()=>d,routeModule:()=>v,tree:()=>u});var a=s(65239),r=s(48088),l=s(88170),i=s.n(l),n=s(30893),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let u={children:["",{children:["assessment",{children:["self",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,17915)),"/Users/georgiaeick/Downloads/smiles-for-speech/app/assessment/self/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,58014)),"/Users/georgiaeick/Downloads/smiles-for-speech/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,d=["/Users/georgiaeick/Downloads/smiles-for-speech/app/assessment/self/page.tsx"],c={require:s,loadChunk:()=>Promise.resolve()},v=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/assessment/self/page",pathname:"/assessment/self",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},33873:e=>{"use strict";e.exports=require("path")},47249:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var a=s(60687),r=s(43210),l=s(16189),i=s(24934),n=s(55192),o=s(39390),u=s(21761),d=s(46428),c=s(57769),v=s(70333);function p(){let e=(0,l.useRouter)(),{toast:t}=(0,v.dj)(),[s,p]=(0,r.useState)(0),[g,m]=(0,r.useState)(0),[h,f]=(0,r.useState)({}),[x,b]=(0,r.useState)(!1),y=[{title:"Social Communication",description:"These questions assess social interaction and communication skills.",questions:[{id:"social1",text:"I find it difficult to understand what other people are thinking or feeling.",options:[{value:0,label:"Strongly Disagree"},{value:1,label:"Disagree"},{value:2,label:"Neutral"},{value:3,label:"Agree"},{value:4,label:"Strongly Agree"}]},{id:"social2",text:"I find it hard to make new friends.",options:[{value:0,label:"Strongly Disagree"},{value:1,label:"Disagree"},{value:2,label:"Neutral"},{value:3,label:"Agree"},{value:4,label:"Strongly Agree"}]},{id:"social3",text:"I prefer to do things on my own rather than with others.",options:[{value:0,label:"Strongly Disagree"},{value:1,label:"Disagree"},{value:2,label:"Neutral"},{value:3,label:"Agree"},{value:4,label:"Strongly Agree"}]}]},{title:"Repetitive Behaviors",description:"These questions assess patterns of behavior, interests, or activities.",questions:[{id:"repetitive1",text:"I notice patterns in things all the time.",options:[{value:0,label:"Strongly Disagree"},{value:1,label:"Disagree"},{value:2,label:"Neutral"},{value:3,label:"Agree"},{value:4,label:"Strongly Agree"}]},{id:"repetitive2",text:"I prefer to do things the same way over and over again.",options:[{value:0,label:"Strongly Disagree"},{value:1,label:"Disagree"},{value:2,label:"Neutral"},{value:3,label:"Agree"},{value:4,label:"Strongly Agree"}]},{id:"repetitive3",text:"I find it very upsetting when my daily routine is disrupted.",options:[{value:0,label:"Strongly Disagree"},{value:1,label:"Disagree"},{value:2,label:"Neutral"},{value:3,label:"Agree"},{value:4,label:"Strongly Agree"}]}]},{title:"Sensory Sensitivities",description:"These questions assess your sensitivity to sensory input.",questions:[{id:"sensory1",text:"I am often overwhelmed by sensory input (lights, sounds, textures).",options:[{value:0,label:"Strongly Disagree"},{value:1,label:"Disagree"},{value:2,label:"Neutral"},{value:3,label:"Agree"},{value:4,label:"Strongly Agree"}]},{id:"sensory2",text:"Certain sounds, textures, or lights bother me more than they seem to bother others.",options:[{value:0,label:"Strongly Disagree"},{value:1,label:"Disagree"},{value:2,label:"Neutral"},{value:3,label:"Agree"},{value:4,label:"Strongly Agree"}]},{id:"sensory3",text:"I notice small sounds that others don't seem to notice.",options:[{value:0,label:"Strongly Disagree"},{value:1,label:"Disagree"},{value:2,label:"Neutral"},{value:3,label:"Agree"},{value:4,label:"Strongly Agree"}]}]},{title:"Executive Function",description:"These questions assess planning, organization, and task management.",questions:[{id:"executive1",text:"I find it difficult to switch from one task to another.",options:[{value:0,label:"Strongly Disagree"},{value:1,label:"Disagree"},{value:2,label:"Neutral"},{value:3,label:"Agree"},{value:4,label:"Strongly Agree"}]},{id:"executive2",text:"I struggle with organizing my time and meeting deadlines.",options:[{value:0,label:"Strongly Disagree"},{value:1,label:"Disagree"},{value:2,label:"Neutral"},{value:3,label:"Agree"},{value:4,label:"Strongly Agree"}]},{id:"executive3",text:"I find it hard to 'read between the lines' when someone is talking to me.",options:[{value:0,label:"Strongly Disagree"},{value:1,label:"Disagree"},{value:2,label:"Neutral"},{value:3,label:"Agree"},{value:4,label:"Strongly Agree"}]}]}],S=(e,t)=>{f(s=>({...s,[e]:t}))},w=()=>{let e={};return y.forEach(t=>{let s=t.title.toLowerCase().replace(/\s+/g,"_"),a=0,r=4*t.questions.length;t.questions.forEach(e=>{void 0!==h[e.id]&&(a+=h[e.id])}),e[s]={score:a,maxScore:r}}),e},A=async(e,s,a)=>{try{b(!0);let t=w(),r=await fetch("/api/assessment/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({answers:h,totalScore:e,maxPossibleScore:s,scorePercentage:a,categories:t,assessmentType:"self"})});if(!r.ok)throw Error("Failed to save assessment results");return await r.json()}catch(e){return console.error("Error saving assessment:",e),t({title:"Error",description:"Failed to save your assessment results. Your results will still be shown, but may not be saved to your profile.",variant:"destructive"}),null}finally{b(!1)}},N=async()=>{if(!y[s].questions.every(e=>void 0!==h[e.id])){t({title:"Please complete all questions",description:"Please answer all questions before proceeding.",variant:"destructive"});return}if(s<y.length-1)p(e=>e+1),m(Math.round((s+1)/y.length*100));else{let t=Object.values(h).reduce((e,t)=>e+t,0),s=y.reduce((e,t)=>e+4*t.questions.length,0),a=t/s*100,r=await A(t,s,a);e.push(`/assessment/results?score=${a.toFixed(0)}${r?.assessmentId?`&id=${r.assessmentId}`:""}`)}},j=y[s];return(0,a.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,a.jsx)(d.Header,{}),(0,a.jsx)("main",{className:"flex-1 container max-w-3xl mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Self-Assessment Questionnaire"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Based on DSM-5 criteria for autism spectrum disorder. This is not a diagnostic tool."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Progress"}),(0,a.jsxs)("span",{children:[g,"%"]})]}),(0,a.jsx)(c.k,{value:g,className:"h-2"})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsx)(n.ZB,{children:j.title}),(0,a.jsx)(n.BT,{children:j.description})]}),(0,a.jsx)(n.Wu,{className:"space-y-6",children:j.questions.map((e,t)=>(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(o.Label,{children:[t+1,". ",e.text]}),(0,a.jsx)(u.z,{value:h[e.id]?.toString(),onValueChange:t=>S(e.id,Number.parseInt(t)),className:"flex flex-col space-y-1 sm:flex-row sm:space-y-0 sm:space-x-4 pt-2",children:e.options.map(t=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(u.C,{value:t.value.toString(),id:`${e.id}-${t.value}`}),(0,a.jsx)(o.Label,{htmlFor:`${e.id}-${t.value}`,className:"text-sm",children:t.label})]},t.value))})]})},e.id))}),(0,a.jsxs)(n.wL,{className:"flex justify-between",children:[(0,a.jsx)(i.$,{variant:"outline",onClick:()=>{s>0&&(p(e=>e-1),m(Math.round((s-1)/y.length*100)))},disabled:0===s,children:"Previous"}),(0,a.jsx)(i.$,{onClick:N,disabled:x,children:s<y.length-1?"Next":x?"Saving...":"Complete Assessment"})]})]})]})})]})}},57769:(e,t,s)=>{"use strict";s.d(t,{k:()=>S});var a=s(60687),r=s(43210),l=s(11273),i=s(14163),n="Progress",[o,u]=(0,l.A)(n),[d,c]=o(n),v=r.forwardRef((e,t)=>{var s,r;let{__scopeProgress:l,value:n=null,max:o,getValueLabel:u=m,...c}=e;(o||0===o)&&!x(o)&&console.error((s=`${o}`,`Invalid prop \`max\` of value \`${s}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let v=x(o)?o:100;null===n||b(n,v)||console.error((r=`${n}`,`Invalid prop \`value\` of value \`${r}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let p=b(n,v)?n:null,g=f(p)?u(p,v):void 0;return(0,a.jsx)(d,{scope:l,value:p,max:v,children:(0,a.jsx)(i.sG.div,{"aria-valuemax":v,"aria-valuemin":0,"aria-valuenow":f(p)?p:void 0,"aria-valuetext":g,role:"progressbar","data-state":h(p,v),"data-value":p??void 0,"data-max":v,...c,ref:t})})});v.displayName=n;var p="ProgressIndicator",g=r.forwardRef((e,t)=>{let{__scopeProgress:s,...r}=e,l=c(p,s);return(0,a.jsx)(i.sG.div,{"data-state":h(l.value,l.max),"data-value":l.value??void 0,"data-max":l.max,...r,ref:t})});function m(e,t){return`${Math.round(e/t*100)}%`}function h(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function f(e){return"number"==typeof e}function x(e){return f(e)&&!isNaN(e)&&e>0}function b(e,t){return f(e)&&!isNaN(e)&&e<=t&&e>=0}g.displayName=p;var y=s(96241);let S=r.forwardRef(({className:e,value:t,...s},r)=>(0,a.jsx)(v,{ref:r,className:(0,y.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...s,children:(0,a.jsx)(g,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));S.displayName=v.displayName},62634:(e,t,s)=>{Promise.resolve().then(s.bind(s,47249))},62688:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var a=s(43210);let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim();var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:n="",children:o,iconNode:u,...d},c)=>(0,a.createElement)("svg",{ref:c,...i,width:t,height:t,stroke:e,strokeWidth:r?24*Number(s)/Number(t):s,className:l("lucide",n),...d},[...u.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(o)?o:[o]])),o=(e,t)=>{let s=(0,a.forwardRef)(({className:s,...i},o)=>(0,a.createElement)(n,{ref:o,iconNode:t,className:l(`lucide-${r(e)}`,s),...i}));return s.displayName=`${e}`,s}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},70333:(e,t,s)=>{"use strict";s.d(t,{dj:()=>v,oR:()=>c});var a=s(43210);let r=0,l=new Map,i=e=>{if(l.has(e))return;let t=setTimeout(()=>{l.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,t)},n=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?i(s):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],u={toasts:[]};function d(e){u=n(u,e),o.forEach(e=>{e(u)})}function c({...e}){let t=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>d({type:"DISMISS_TOAST",toastId:t});return d({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||s()}}}),{id:t,dismiss:s,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function v(){let[e,t]=a.useState(u);return a.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:c,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},78148:(e,t,s)=>{"use strict";s.d(t,{b:()=>n});var a=s(43210),r=s(14163),l=s(60687),i=a.forwardRef((e,t)=>(0,l.jsx)(r.sG.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var n=i},83721:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(43210);function r(e){let t=a.useRef({value:e,previous:e});return a.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[243,924,411,560,307],()=>s(33231));module.exports=a})();