(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1668],{450:(e,s,t)=>{Promise.resolve().then(t.bind(t,3141))},3141:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>x});var r=t(5155),a=t(2115),i=t(5695),n=t(6874),o=t.n(n),l=t(7168),c=t(8482),d=t(9464),u=t(9946);let m=(0,u.A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),h=(0,u.A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),p=(0,u.A)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);var f=t(4503);function x(){let e=(0,i.useSearchParams)(),{toast:s}=(0,f.dj)(),t=Number.parseInt(e.get("score")||"0"),n=e.get("id")||"",u=e.get("type")||"self",x=e.get("lovedOneId")||"",[y,v]=(0,a.useState)(null),[g,b]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(async()=>{if(n){b(!0);try{let e=await fetch("/api/assessment/".concat(n));if(!e.ok)throw Error("Failed to fetch assessment data");let s=await e.json();v(s)}catch(e){console.error("Error fetching assessment:",e),s({title:"Error",description:"Failed to load assessment details.",variant:"destructive"})}finally{b(!1)}}})()},[n,s]);let w="few",j="text-green-500";t>30&&t<=60?(w="several",j="text-yellow-500"):t>60&&(w="many",j="text-red-500");let N=async()=>{try{s({title:"Downloading",description:"Preparing your assessment results for download..."});let e=await fetch("/api/assessment/download?id=".concat(n));if(!e.ok)throw Error("Failed to generate PDF");let t=await e.blob(),r=window.URL.createObjectURL(t),a=document.createElement("a");a.href=r,a.download="assessment-results-".concat(new Date().toISOString().split("T")[0],".pdf"),document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(r),document.body.removeChild(a),s({title:"Download Complete",description:"Your assessment results have been downloaded."})}catch(e){console.error("Error downloading results:",e),s({title:"Error",description:"Failed to download your assessment results.",variant:"destructive"})}},k=async()=>{try{if(!n){s({title:"Cannot Share",description:"This assessment hasn't been saved to your account.",variant:"destructive"});return}let e=await fetch("/api/assessment/share",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({assessmentId:n})});if(!e.ok)throw Error("Failed to create shareable link");let{shareableLink:t}=await e.json();await navigator.clipboard.writeText(t),s({title:"Link Copied",description:"A shareable link to your results has been copied to your clipboard."})}catch(e){console.error("Error sharing results:",e),s({title:"Error",description:"Failed to create a shareable link.",variant:"destructive"})}};return(0,r.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,r.jsx)(d.Header,{}),(0,r.jsx)("main",{className:"flex-1 container max-w-4xl mx-auto px-4 py-8",children:(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-primary",children:"Assessment Results"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Thank you for completing the assessment. Here are your results."})]}),(0,r.jsxs)(c.Zp,{className:"card",children:[(0,r.jsxs)(c.aR,{className:"text-center bg-primary/10 rounded-t-[1rem]",children:[(0,r.jsx)(c.ZB,{className:"text-2xl",children:"Your Assessment Results"}),(0,r.jsx)(c.BT,{children:"Based on the DSM-5 criteria for autism spectrum disorder"}),(null==y?void 0:y.date)&&(0,r.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:["Assessment completed on ",new Date(y.date).toLocaleDateString()]})]}),(0,r.jsxs)(c.Wu,{className:"space-y-6 pt-6",children:[(0,r.jsxs)("div",{className:"text-center py-6",children:[(0,r.jsxs)("p",{className:"text-lg",children:["Based on your responses, ","loved-one"===u?"your loved one fulfills":"you fulfill"," ",(0,r.jsx)("span",{className:"font-bold ".concat(j),children:w})," indicators for Autism Spectrum Disorder."]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"This is not a diagnosis. Only a qualified healthcare professional can provide a diagnosis."})]}),(null==y?void 0:y.categories)&&(0,r.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"font-medium mb-4",children:"Category Breakdown"}),(0,r.jsx)("div",{className:"space-y-3",children:Object.entries(y.categories).map(e=>{let[s,t]=e,a=s.replace(/_/g," "),i=Math.round(t.score/t.maxScore*100),n="bg-green-500";return i>30&&i<=60?n="bg-yellow-500":i>60&&(n="bg-red-500"),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"capitalize",children:a}),(0,r.jsxs)("span",{children:[i,"%"]})]}),(0,r.jsx)("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,r.jsx)("div",{className:"h-full ".concat(n),style:{width:"".concat(i,"%")}})})]},s)})})]}),(0,r.jsxs)("div",{className:"border-t pt-6",children:[(0,r.jsx)("h3",{className:"font-medium text-lg mb-4",children:"Recommended Next Steps"}),(0,r.jsx)("div",{className:"space-y-4",children:[{title:"Consider Professional Evaluation",description:"Based on your results, you may want to consider seeking a professional evaluation from a healthcare provider who specializes in autism spectrum disorders.",link:"/resources/find-professional"},{title:"Explore Support Resources",description:"We have resources tailored to your specific challenges that can help you better understand and navigate your experiences.",link:"/resources"},{title:"Connect with Community",description:"Many people find it helpful to connect with others who share similar experiences.",link:"/resources/community"}].map((e,s)=>(0,r.jsxs)("div",{className:"border rounded-lg p-4 hover:border-primary hover:bg-primary/5 transition-colors",children:[(0,r.jsx)("h4",{className:"font-medium",children:e.title}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground my-2",children:e.description}),(0,r.jsx)(o(),{href:e.link,children:(0,r.jsxs)(l.$,{variant:"link",size:"sm",className:"p-0 text-primary",children:["Learn more ",(0,r.jsx)(m,{className:"ml-1 h-3 w-3"})]})})]},s))})]})]}),(0,r.jsxs)(c.wL,{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,r.jsxs)(l.$,{variant:"outline",className:"w-full sm:w-auto rounded-xl",onClick:N,disabled:!n||g,children:[(0,r.jsx)(h,{className:"mr-2 h-4 w-4"}),"Save Results"]}),(0,r.jsxs)(l.$,{variant:"outline",className:"w-full sm:w-auto rounded-xl",onClick:k,disabled:!n||g,children:[(0,r.jsx)(p,{className:"mr-2 h-4 w-4"}),"Share Results"]}),(0,r.jsx)(o(),{href:"loved-one"===u?"/profile/loved-one/".concat(x):"/profile/dashboard",className:"w-full sm:w-auto",children:(0,r.jsx)(l.$,{className:"w-full btn-primary",children:"Return to Dashboard"})})]})]}),(0,r.jsxs)(c.Zp,{className:"card",children:[(0,r.jsxs)(c.aR,{className:"bg-primary/10 rounded-t-[1rem]",children:[(0,r.jsx)(c.ZB,{children:"What These Results Mean"}),(0,r.jsx)(c.BT,{children:"Understanding your assessment results"})]}),(0,r.jsxs)(c.Wu,{className:"space-y-4 pt-6",children:[(0,r.jsx)("p",{children:"This screening tool is based on the DSM-5 criteria for autism spectrum disorder, which includes:"}),(0,r.jsxs)("ul",{className:"list-disc pl-6 space-y-2",children:[(0,r.jsx)("li",{children:"Persistent difficulties in social communication and interaction"}),(0,r.jsx)("li",{children:"Restricted, repetitive patterns of behavior, interests, or activities"}),(0,r.jsx)("li",{children:"Symptoms present from early childhood (though they may not become fully apparent until social demands exceed capacities)"}),(0,r.jsx)("li",{children:"Symptoms cause significant impairment in functioning"})]}),(0,r.jsxs)("p",{className:"mt-4",children:["Your results indicate that ","loved-one"===u?"your loved one experiences":"you experience"," ","few"===w?"a few":w," of these characteristics. Remember that autism exists on a spectrum, and many people share some of these traits without having autism."]}),(0,r.jsxs)("p",{children:["Only a qualified healthcare professional can provide a diagnosis after a comprehensive evaluation. This assessment is meant to be a starting point for understanding"," ","loved-one"===u?"your loved one":"yourself"," better and determining if further evaluation might be helpful."]})]})]})]})})]})}},3999:(e,s,t)=>{"use strict";t.d(s,{cn:()=>i});var r=t(2596),a=t(9688);function i(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,a.QP)((0,r.$)(s))}},4503:(e,s,t)=>{"use strict";t.d(s,{dj:()=>m,oR:()=>u});var r=t(2115);let a=0,i=new Map,n=e=>{if(i.has(e))return;let s=setTimeout(()=>{i.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,s)},o=(e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=s;return t?n(t):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===s.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==s.toastId)}}},l=[],c={toasts:[]};function d(e){c=o(c,e),l.forEach(e=>{e(c)})}function u(e){let{...s}=e,t=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>d({type:"DISMISS_TOAST",toastId:t});return d({type:"ADD_TOAST",toast:{...s,id:t,open:!0,onOpenChange:e=>{e||r()}}}),{id:t,dismiss:r,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function m(){let[e,s]=r.useState(c);return r.useEffect(()=>(l.push(s),()=>{let e=l.indexOf(s);e>-1&&l.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},5695:(e,s,t)=>{"use strict";var r=t(8999);t.o(r,"useParams")&&t.d(s,{useParams:function(){return r.useParams}}),t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(s,{useSearchParams:function(){return r.useSearchParams}})},7168:(e,s,t)=>{"use strict";t.d(s,{$:()=>c});var r=t(5155),a=t(2115),i=t(9708),n=t(2085),o=t(3999);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,s)=>{let{className:t,variant:a,size:n,asChild:c=!1,...d}=e,u=c?i.DX:"button";return(0,r.jsx)(u,{className:(0,o.cn)(l({variant:a,size:n,className:t})),ref:s,...d})});c.displayName="Button"},8482:(e,s,t)=>{"use strict";t.d(s,{BT:()=>c,Wu:()=>d,ZB:()=>l,Zp:()=>n,aR:()=>o,wL:()=>u});var r=t(5155),a=t(2115),i=t(3999);let n=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});n.displayName="Card";let o=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",t),...a})});o.displayName="CardHeader";let l=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});l.displayName="CardTitle";let c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",t),...a})});c.displayName="CardDescription";let d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("p-6 pt-0",t),...a})});d.displayName="CardContent";let u=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",t),...a})});u.displayName="CardFooter"},9464:(e,s,t)=>{"use strict";t.d(s,{Header:()=>l});var r=t(5155),a=t(6874),i=t.n(a),n=t(7168),o=t(2108);function l(){var e;let{data:s,status:t}=(0,o.useSession)();return(0,r.jsx)("header",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 w-full",children:(0,r.jsxs)("div",{className:"container mx-auto flex flex-wrap items-center justify-between px-4 py-3",children:[(0,r.jsx)(i(),{href:"/",className:"flex-shrink-0 text-primary text-lg font-bold truncate max-w-[60%] sm:max-w-none",children:"Smiles for Speech"}),(0,r.jsxs)("nav",{className:"flex flex-wrap items-center gap-2 sm:gap-4 mt-2 sm:mt-0",children:[(0,r.jsx)(i(),{href:"/resources",children:(0,r.jsx)(n.$,{variant:"ghost",className:"text-sm sm:text-base px-3",children:"Resources"})}),(0,r.jsx)(i(),{href:"/about",children:(0,r.jsx)(n.$,{variant:"ghost",className:"text-sm sm:text-base px-3",children:"About Us"})}),"loading"!==t&&(s?(0,r.jsx)(i(),{href:"/profile/".concat((null===(e=s.user)||void 0===e?void 0:e.id)||"dashboard"),children:(0,r.jsx)(n.$,{variant:"ghost",className:"text-sm sm:text-base px-3",children:"Profile"})}):(0,r.jsx)(i(),{href:"profile/login",children:(0,r.jsx)(n.$,{variant:"outline",className:"text-sm sm:text-base px-3",children:"Login"})}))]})]})})}},9946:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});var r=t(2115);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,r.forwardRef)((e,s)=>{let{color:t="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:d,iconNode:u,...m}=e;return(0,r.createElement)("svg",{ref:s,...n,width:a,height:a,stroke:t,strokeWidth:l?24*Number(o)/Number(a):o,className:i("lucide",c),...m},[...u.map(e=>{let[s,t]=e;return(0,r.createElement)(s,t)}),...Array.isArray(d)?d:[d]])}),l=(e,s)=>{let t=(0,r.forwardRef)((t,n)=>{let{className:l,...c}=t;return(0,r.createElement)(o,{ref:n,iconNode:s,className:i("lucide-".concat(a(e)),l),...c})});return t.displayName="".concat(e),t}}},e=>{var s=s=>e(e.s=s);e.O(0,[2108,5503,8441,1684,7358],()=>s(450)),_N_E=e.O()}]);